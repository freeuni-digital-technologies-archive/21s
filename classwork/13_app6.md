---
title: 13. ვებ აპლიკაცია 6 - კომენტარების დამატება
parent: სემინარები
---

## კომენტარების დამატება
ამ შემთხვევაში getPostElem ფუნქციას ვამატებთ getPostContent და getPostComments ფუნქციებს, პირველი მათგანი წინა ნაწილებში უკვე დაწერილი გვაქვს უბრალოდ მეტი დეკომპოზიციის გამო გავიტანოთ ცალკე ფუქნქციად პოსტის ტექსტი.
```js
function getPostElem(post){ 
	let likesElem = getPostLikesElem(post)
	return `
		<div class="post-container" id="post${post.id}">
			${getPostContent(post)}
			${likesElem}
			${getPostComments(post)}
		</div>
	`
}
function getPostContent(post) {
	return `<div class="post-text">
				${post.text}
			</div>`
}
```
ხოლო რაც შეეხება getPostComments ფუნქციას მას უკვე გადაეცემა post და თითოეულ პოსტს ემატება კომენტარების ერთი div რომელშიც იქნება ერთი textarea და ერთი ღილაკი, რომელიც კომენტარებს დაამატებს კლიკის შემდეგ (addPostComent ფუნქციის გამოძახებით)
```js
function getPostComments(post) {
	return `<div class="post-comments-space">
		post comments
		<div class="post-comments-container"></div>
		<textarea class="post-comment-input"></textarea>
		<button class="post-comment-button" onclick="addPostComment(${post.id})">add comment</button>
	</div>`
}
```
ამ ფუნქციაში იგივე პრინციპი არის, რაც პოსტის დადებისას ერთადერთი განსხვავება ის არის, რომ დოკუმენტის მაგივრად postElemს ვპოულობთ და მერე ყველაფერს იმავენაირად ვაკეთებთ
```js
function addPostComment(postId) {
	let postElem = document.querySelector('#post' + postId)
	let postComments = postElem.querySelector('.post-comments-container')
	let commentText = postElem.querySelector('.post-comment-input').value
	let commentElem = getPostCommentElem(postId, commentText)
	postComments.insertAdjacentHTML('beforeend', commentElem)
}

function getPostCommentElem(postId, commentText) {
	return `<div class="post-comment">${commentText}</div>`
}
```
